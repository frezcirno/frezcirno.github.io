<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"frezcirno.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.1.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":true,"nav":{"disqus":{"text":"Load Disqus","order":-1}},"activeClass":"disqus"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="Frezcirno的个人博客, 记录一些技术相关的学习内容">
<meta property="og:type" content="website">
<meta property="og:title" content="Frezcirno&#39;s Blog">
<meta property="og:url" content="https://frezcirno.github.io/index.html">
<meta property="og:site_name" content="Frezcirno&#39;s Blog">
<meta property="og:description" content="Frezcirno的个人博客, 记录一些技术相关的学习内容">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="frezcirno">
<meta property="article:tag" content="daily">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://frezcirno.github.io/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>
<title>Frezcirno's Blog</title>
  



  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Frezcirno's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">今天学到了什么？</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">48</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">11</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">109</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <section class="post-toc-wrap sidebar-panel">
        </section>
        <!--/noindex-->

        <section class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="frezcirno"
      src="https://cdn.7c00h.xyz/avatar.jpg">
  <p class="site-author-name" itemprop="name">frezcirno</p>
  <div class="site-description" itemprop="description">Frezcirno的个人博客, 记录一些技术相关的学习内容</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">109</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">48</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/frezcirno" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;frezcirno" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:2277861660@qq.com" title="E-Mail → mailto:2277861660@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </section>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://frezcirno.github.io/eda/index.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.7c00h.xyz/avatar.jpg">
      <meta itemprop="name" content="frezcirno">
      <meta itemprop="description" content="Frezcirno的个人博客, 记录一些技术相关的学习内容">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Frezcirno's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/eda/index.html" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-02 21:25:39" itemprop="dateCreated datePublished" datetime="2021-07-02T21:25:39+08:00">2021-07-02</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/eda/index.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="eda/index.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>113</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <hr>
<p>title: 数字电子系统的设计自动化-笔记<br>date: 2021-05-05 23:40:44<br>category: </p>
<h2 id="tags"><a href="#tags" class="headerlink" title="tags: "></a>tags: </h2><p>计算机辅助硬件设计的问题：排查存储的成本过高，设计：芯片测试：印刷电路板：最终机器=1：10：100：1000</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://frezcirno.github.io/eda/An%20introduction%20to%20the%20logical%20simulation.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.7c00h.xyz/avatar.jpg">
      <meta itemprop="name" content="frezcirno">
      <meta itemprop="description" content="Frezcirno的个人博客, 记录一些技术相关的学习内容">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Frezcirno's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/eda/An%20introduction%20to%20the%20logical%20simulation.html" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-02 21:25:39" itemprop="dateCreated datePublished" datetime="2021-07-02T21:25:39+08:00">2021-07-02</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/eda/An%20introduction%20to%20the%20logical%20simulation.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="eda/An introduction to the logical simulation.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>16k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>14 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>An introduction</p>
<p>主讲：陈昕老师<br>电子与信息工程学院</p>
<p><strong>Introduction</strong></p>
<ul>
<li><p>Computer aids are not limited to chip design. There has been increasing emphasis on the need for system design rather than purely chip design.</p>
</li>
<li><p>One of the problems with building hardware is that, once built, it is not easily change. It is estimated that the relative cost of finding faults at design time, chip-test time, printed circuit board construction time, or in the finished machine in the field is 1:10:100:1000 (Sec. 3.1.1). </p>
</li>
<li><p>Simulation is the process by which a model of the hardware is set up in software, or better still, in data structures that are ‘run’ by the software.</p>
</li>
<li><p>The simulation can then be used to test the ‘hardware’ before it is ever built. When errors are found the data can be changed and further runs made until a correct design is achieved.</p>
</li>
<li><p>If budget and time to market considerations allow, it is possible to try out alternative designs –sometimes called ‘playing “what if” games’.</p>
</li>
</ul>
<p>Cont.</p>
<ul>
<li>Three important tutorials:</li>
</ul>
<p>1) A computer aided design systems is what it says it is –an aid.<br>Q: Is a computer aided design system a substitute for the intelligence of the designer?<br>2) It is not meaningful for a simulation run without error reports. The design time is reduced, but redesign will be necessary.<br>Q: How must a simulator be used?<br>3) Simulation does not generally reduce design time. It frequently increase it, possibly by several hundred percent.<br>Q: What is the advantage gained for this very expensive process?  </p>
<p>Four aims of simulation</p>
<ol>
<li>Functional correctness（功能正确性）<br>A simulator is required to give an accurate prediction of the behavior of a good system.<br>A simulator is required to give warning of a faulty system.</li>
</ol>
<ul>
<li>In order that functional correctness can be checked, two matters must be considered.</li>
</ul>
<p>a)The correct operation must be known.This requires a specification of the function which is unambiguous, and which is clearly understood by both customer and designer. </p>
<p>b)The functionality of the system under unusual conditions of operation may be important. This can include what happens if one or more faults appear or if input data patterns are incorrectly generated.</p>
<ul>
<li>Consider the logic shown in Fig. 1.1, where the square boxes are pieces of combinational logic. </li>
</ul>
<p>Fig. 1.1 Demonstration circuit</p>
<ul>
<li>The waveforms of Fig. 1.2 show the result of a check for functional correctness. </li>
</ul>
<p>Fig. 1.2 Notional waveforms for Fig. 1.1</p>
<p>Cont.</p>
<ol>
<li>Speed of the system（对输入信号的响应时间）<br>Most systems will have some form of limit on the time they take to respond to given conditions. For example, designs using logic with basic gate speeds of 10ns will quite easily build up delays of 500 ns without the designer’s noticing.<br>Speed of operation depends on three criteria.<br>1)The circuit type</li>
</ol>
<p>2)How heavily the circuits are loaded and their driving capability</p>
<p>3)The time that signals take to pass down the wires, which can be significant</p>
<p>Cont.</p>
<ul>
<li><p>For example, a simple TTL gate has basic delay of 8.5 ns, delay per unit load(one similar gate) of 0.25 ns. Then, it is specified to have a delay of 11ns with load of 10 similar gates.</p>
</li>
<li><p>Wiring delays may or may not be serious. Within a single PCB of 300 mm x 300 mm, the time from corner to corner diagonally using strictly x-y tracks will be about 3 ns. </p>
</li>
<li><p>If the logic is TTL with gate delays as above, this could matter for the longest connections, but not in general.</p>
</li>
<li><p>For faster ECL logic with delays of around 1 ns per gate  it is very serious.</p>
</li>
</ul>
<ul>
<li><p>The wiring delay is also important on chips with polysilicon connections. The polysilicon is very resistive –say 50Ωper square. </p>
</li>
<li><p>A track 2 μm wide and 1 mm long is 500 squares long, and hence has a resistance of 25 kΩ.</p>
</li>
<li><p>The capacitance is likely to be of the order of  0.15 fFper μm2, giving a capacitance for the 1 mm by 2μm line of 0.3 pF.</p>
</li>
<li><p>The delay of a wire is of the order of one or two time constants. In this case, the  time constant is 7.5 ns, which is very significant. </p>
</li>
</ul>
<p>Cont.</p>
<ul>
<li><p>Wire delays are unknown until a late stage  in the design process. In the early stages a guess figure may be used. </p>
</li>
<li><p>For later stages it is necessary to have software capable of extracting  wire  characteristics from the layoutand feeding them to  the data used  by the simulator.</p>
</li>
<li><p>The simulator is then run with these additional delays to check that the speed specification can be met.</p>
</li>
<li><p>The feedback of layout data to the simulator is one example of what is known as back annotation.</p>
</li>
</ul>
<p>Cont.</p>
<ol>
<li>Hazard detection<br>Fig. 1.1 shows Z being used as the clock input of a flip-flop. The function（功能）suggests that the pulse shown in Fig. 1.3 should not be there.  However, it is, and will probably cause the flip-flop to trigger incorrectly. This is an example of a raceor hazard. </li>
</ol>
<p>Fig. 1.3 Waveforms for Fig. 1.1 –actual timing</p>
<p>Cont.</p>
<ul>
<li><p>Other timing constraints include</p>
</li>
<li><p>Data to a flip-flop  does not change  just before the clock (set-up time)</p>
</li>
<li><p>Data to a flip-flop does not change just after the clock (hold time)</p>
</li>
<li><p>Timing to dynamic memories meets the chip specifications under conditions of tolerance (RAS, CAS, R/W etc.).</p>
</li>
</ul>
<ul>
<li>It is important that the timing specifications should not be violated during normal operation of the equipment, and so the simulator should be able to detect and report if any violations occur.</li>
</ul>
<p>Cont.</p>
<ol>
<li>Expected outputs for test and fault simulation<br>Once the system can be shown its according to the specification, it will be necessary to develop a test program. It will give an output that is different from the good system for as many faults as possible. This will be run on a machine to test the production hardware.<br>To discover which faults are being tested a fault simulation is run. </li>
</ol>
<ul>
<li><p>In this situation, a fault is introduced into the good network and a simulation run. </p>
</li>
<li><p>The outputs are compared with the output of the good system.</p>
</li>
<li><p>The procedure is repeated for every possible fault.</p>
</li>
</ul>
<p>Another purpose of simulationwill be to determine the outputs of the good circuit for each new test.<br>Q: Whether the system is presumed to be functionally correct or not when simulations are run for test and fault simulation ?</p>
<p>Components of a simulator</p>
<ul>
<li><p>The process of simulation requires three sets of data and a program</p>
</li>
<li><p>A description of the system to be simulated</p>
</li>
<li><p>A description of the inputs to the simulated system</p>
</li>
<li><p>A set of models  of the components  of the system being simulated</p>
</li>
<li><p>A mechanism(the simulator) to process these three in a manner which simulates the system being designed.</p>
</li>
</ul>
<ul>
<li><p>To follow simulation properly, there is also a need for</p>
</li>
<li><p>Assistance to find and follow indications of errors to their sources</p>
</li>
</ul>
<ul>
<li><p>During test generation, the design is regarded as functionally correct. Hence the expected outputs for the test fixture to check against can be derived by simulation. </p>
</li>
<li><p>A model of a component is a representation of its behavior in a form which the simulator can use.</p>
</li>
<li><p>The models of the components used by the simulated system may be built into the simulator in some way.</p>
</li>
<li><p>However, the simulator is much more flexible if the models are held separately in a library available to the simulator. In this way, new components can be added with relative ease and without having to recompile the simulator itself.</p>
</li>
<li><p>The number of possible components which a simulator may at some time wish to use will run into the thousands. If only subset of models is actually needed by a particular network, it is better put it in the computer memory at run time. This may be only 10 to 20 models, possible less. </p>
</li>
</ul>
<p>Levels of simulation</p>
<ol>
<li>System design</li>
</ol>
<ul>
<li>As a rule, a customer will present the design engineer with a specification of the system. The engineer will first divide this  into functional blocks –memory, CPU, control, etc. as shown in Fig. 1.4. Each of these major blocks can then be specified clearly and passed to different people for more detailed work. Eventually, the individual circuits such as 4-bit arithmetic logic units (ALUs) are designed. This is described as atop-down procedure.</li>
</ul>
<p>Fig. 1.4 A computer architecture</p>
<p>Cont.</p>
<ul>
<li><p>However, it may well be apparent at an early stage that certain circuits or small blocks of logic(e.g. the 4-bit ALU) will be required. It is possible to do detailed work on these before their specific place in the system is fully defined. This is bottom-up design. </p>
</li>
<li><p>In order to clarify the interface specification of the major blocks of the system, it is necessary to simulate these blocks without knowing their detailed internal structure . For example, a multiplier might be simulated with a statement such as</p>
</li>
</ul>
<p>a: = x * y;<br>inPASCAL.HDLs,suchasVHDL,makesuseofthemultiplierofthecomputerratherthansomesimulationdescription.<br>Caution:</p>
<ul>
<li><p>A particular case occurs if the machine works with signed numbersand the new design with unsigned numbers.</p>
</li>
<li><p>Theeffectsofspecialoperands.Forexample,(-215)<em>(-216)isnotrepresentableona32-bitmachinebut(-215)</em>216isforatruecomplementnumberdesign.</p>
</li>
</ul>
<p>Cont.</p>
<ul>
<li>As the design progresses, there are two options here.</li>
</ul>
<p>I.The system has to be described separately at each level of the deign, and these levels must be proved to be equivalent.</p>
<p>II.The design may not progress through the levels evenly, so there is a requirement to be able to simulate some blocks with high level statements and some at gate level.</p>
<ul>
<li>The solution is to design a simulator which can handle all levels of design. Then, it should be able to</li>
</ul>
<p>I.Check a low level block against a high level one;</p>
<p>II.Run multilevel simulations  to</p>
<h1 id="enable-simulations-to-run-faster-since-only-a-few-blocks-are-simulated-in-detail"><a href="#enable-simulations-to-run-faster-since-only-a-few-blocks-are-simulated-in-detail" class="headerlink" title="enable simulations to run faster, since only a few blocks are simulated in detail;"></a>enable simulations to run faster, since only a few blocks are simulated in detail;</h1><h1 id="enable-larger-systems-to-be-simulated-since-high-level-blocks-generally-requires-less-resources"><a href="#enable-larger-systems-to-be-simulated-since-high-level-blocks-generally-requires-less-resources" class="headerlink" title="enable larger systems to be simulated, since high level blocks generally requires less resources."></a>enable larger systems to be simulated, since high level blocks generally requires less resources.</h1><p>Cont.</p>
<ul>
<li>Benkoski(1987) gives an example of a 4-bit adder.</li>
</ul>
<p>component level(Spice)</p>
<p> Four 1-bit adders</p>
<p> Single4-bit adder</p>
<p>293 (s)</p>
<p> 0.5 (s)</p>
<p> 0.1 (ms)</p>
<p>Table 1.1 Simulation time with different description level</p>
<p>Cont.</p>
<ol>
<li>High level<br>This is the level of description equivalent to the high level language procedure in programming.<br>The words ‘functional’ and ‘behavioral’ are frequently used in this area. Refer to Fig. 1.4 as an example. We will follow Abramoviciet al. (1990) using the following definition:<br>Functionaldescribes the logic function only and no timing.<br>Behavioraldescribe logic andtiming.<br>3.Gatelevel<br>Thislevelofdescriptionusesmodelsof‘simple’gates.Thelogicalelementsmayincludemultiplexersandflip-flops,thoughbothmaybedescribedinthedatabooksintermsofANDsand/orORs.<br>Fig.1.5showsonepossibleformofa1-bitALU.SpecialmodelsnotconstructedofANDsandORsshouldalwaysbeconsideredinthesecases.</li>
</ol>
<p>Fig. 1.5 One bit of an ALU. </p>
<p>Cont.</p>
<ol>
<li>Circuit level</li>
</ol>
<ul>
<li><p>The circuit is described in terms of resistances, capacitances and voltage and current sources which are the models. A set of mathematical equations relating current and voltage is set up and solved by numerical techniques. Compared with gate and higher levels of simulation, circuit level simulation is essentially different from others.</p>
</li>
<li><p>Circuit simulators typically can handle only a few hundred circuit components and nodes, since they require large in-store data structures and large amounts of computing resource. Usually they are used to characterize relatively small blocks(e.g. gates) which are then re-described for the higher level simulators.</p>
</li>
<li><p>Circuit simulators give analog results. That is the transient response with real rise and fall times, and oscillations where relevant. Other simulators are for digital circuits only. Circuit simulators can also give frequency domain results –that is the zero frequency working point, and frequency responses.  </p>
</li>
</ul>
<p>Cont.</p>
<ol>
<li>Switch level</li>
</ol>
<ul>
<li><p>Between circuit and gate level, there are a number of modelling methodswith the trade off between speed and accuracy at different points. The primary technique is to regard the transistors as switches that are either open or closed. These techniques are known as switch level (Bryant 1984).</p>
</li>
<li><p>At its simplest, no timing is involved. The circuit is divided into sections starting from a gate output and proceeding to the following inputs.</p>
</li>
</ul>
<p>Fig. 1.6 Section of circuit for switch level simulation</p>
<p>Cont.</p>
<ul>
<li><p>Timing may be included in switch level simulation. One form of this is to estimate the capacitance of each wire, the driving gate output and the driven gate input, together with the source resistance of the driving gate(s).</p>
</li>
<li><p>They can handle only the transient performance of digital circuits. They cannot give frequency responses of true analog circuits such as amplifiers.</p>
</li>
</ul>
<ol>
<li>Mixed mode</li>
</ol>
<ul>
<li>Some effort has been made to link circuit simulation and digital simulation.There are at least three ways that has been attempted. </li>
</ul>
<p>1) Write a link between a circuit simulator and a digital simulator. Suitable pseudo-analog to digital converters are used. The digital sections also feed the analog part via appropriate conversions. Since the time scales are not really compatible, the whole thing seems unsatisfactory.</p>
<p>Cont.</p>
<p>2) A circuit analysis system based on events has been developed (Sakallah1985).In this system, an estimate is made of the largest time step that can be made without the signals changing by too large an amount. The analog circuit operates in relatively small partitions to keep the solution simpler(compared with the switch level system). This can be made to work with feedback, and the analog and digital simulations use the same base mechanism.<br>3) ‘Behavioral analog’ (Visweswariahet al. 1988). In this model of the system, the analog blocks are simulated by a circuit simulator, and a model are developed describing the block in terms understandable by the digital simulator. The block can then be treated as a ‘digital’ component by the digital simulator. Actually, writing the analog blocks’ ‘digital’ model is very difficult.</p>
<p>Cont.</p>
<ul>
<li>What is a good simulator?</li>
</ul>
<p>One performshierarchical and mixed level simulation of digital logic, together with timing error detection, independent of technology, but recognizing the distinct features of known technologies. </p>
<p>Models</p>
<ul>
<li><p>Simulation is about building and exercising a model of a system(electrical or otherwise) that is being designed.</p>
</li>
<li><p>Writing accurate models of components is a difficult and skilled activity(Chap. 7). Consider an example of a D-type flip-flop(e.g. 74ALS74) as shown in Fig. 1.7</p>
</li>
</ul>
<p>1)Functionality: It has to respond to 4 inputs, i.e. preset, clear, clock, and data, to give an output Q(Q’ is also available). </p>
<p>2)Timing check list:</p>
<ul>
<li><p>Dmust not change &lt; tsubefore the active edge of the clock</p>
</li>
<li><p>Dmust not change &lt; thafter the active edge of the clock</p>
</li>
<li><p>Clockmust not have an active edge &lt; tpcafter presetor cleargo inactive</p>
</li>
<li><p>Presetand clearmust have a minimum width</p>
</li>
<li><p>Clockmust have a minimum period, high phase and low phase</p>
</li>
</ul>
<p>Fig. 1.7 74ALS74 type flip-flop</p>
<ul>
<li>An accurate model for such a flip-floprequires</li>
</ul>
<p>upwards of 300 high level programming language<br>statements. It is hoped that any path through<br>as a result of an input change will require only a<br>fraction of these to be executed. </p>
<p>Test generation</p>
<ul>
<li>Once a simulator is in place, a network described and models are available, the network must be exercised. This is done by means of test generation. The goal of the test generation is to exercise the circuit for two purposes.</li>
</ul>
<p>I.To show that the design is correct and the system performs according to specification. The test pattern must be agreed between designer and customer. This set of test patterns is used during the design phase, primarily in simulation, to demonstrate that the design is correct. </p>
<p>II.A second set of test patterns is required to detect faults in the implementation. For example, if a wire has a break in it due to faulty manufacture, then the signal on the ‘driven’ end of this wire will probably be at a fixed logical level. This second set of test generation is needed to give a thorough test of each system built. It is not possible to assess the functionality of the system using these tests, which was the purpose of the first set.</p>
<p>Cont.</p>
<ul>
<li><p>A further set of tests may be needed to check thesystem timing. </p>
</li>
<li><p>Some of the tests in the first set may be provided for this purpose but further tests may still be needed.</p>
</li>
</ul>
<ul>
<li><p>Producing a test generation to exercise the specified functions of the design must be done ‘by hand’ since only the designer understands the system behavior. </p>
</li>
<li><p>Consider Table 1.1, which represents a test generation of the clock and data sections of the flip-flop of Fig. 1.7, presetand clearbeing assumed inactive. This length of program for such a ‘simple’ device, and not including effects of preset and clear, or checks for possible timing faults, demonstrates the difficultywhen many thousands of gates are involved.</p>
</li>
<li><p>The really big problem in test generation is, how do we know that the set of test patterns is comprehensive?Consider a 32-bit adder.</p>
</li>
<li><p>The problem can be made easier if the design is done with testabilityin mind.</p>
</li>
</ul>
<p>Table 1.1 Test data(excerpts) for a flip-flop</p>
<p>(Inactive)</p>
<p>(Active)</p>
<p>Fault simulation</p>
<ul>
<li><p>When a set of test patterns has been generated, it is required to check which faults can be detected. This is done with a fault simulator. </p>
</li>
<li><p>Basically, a set of tests is run on a ‘good’ network, and the results recorded. </p>
</li>
<li><p>A fault is now introduced into the network, the simulation re-run, and its outputs compared with the good network. </p>
</li>
<li><p>If a difference in the primary outputs is found, the fault is detectable.</p>
</li>
</ul>
<ul>
<li><p>The number of possible faults is very large.</p>
</li>
<li><p>It has been found in practice that, if a set of test patterns will detect all stuck-at faults, it will detect most other faults as well.</p>
</li>
</ul>
<p>Cont.</p>
<ul>
<li><p>The number of possible faults in a large network, and hence the number of simulations to be run, is still very large. </p>
</li>
<li><p>If each run were to take several days, the cost would be prohibitive.</p>
</li>
<li><p>Techniques have been developed to speed things up.</p>
</li>
<li><p>Fault simulation is a time consuming and expensive business. It is one which is often ignored at the cost of one’s peril.</p>
</li>
</ul>
<p>Timing verification</p>
<ul>
<li><p>The timing verifier examines the structure of the network and determines where the paths of signal groups converge in such a way that a timing error might occur. These include narrow clock pulses(Fig. 1.3) and the usual flip-flop or memory timing problems. </p>
</li>
<li><p>However, it may be very pessimistic due to including paths which would be improperly used, and may report many narrow pulses  which are not at critical points in the network or in the timing.</p>
</li>
<li><p>There are techniques to make timing verifiers less pessimistic, but care has to be taken not to miss significant events as a result. </p>
</li>
</ul>
<p>Conclusion</p>
<ul>
<li><p>The remainder of the course will expand upon many of the previous sections. </p>
</li>
<li><p>Firstly, simulation will be set in the context of electronic computer aided design (ECAD) as a whole.</p>
</li>
<li><p>The mechanisms involved in the simulator itself are then discussed (These include Chap. 6, 7, and 8).</p>
</li>
<li><p>The course will continue with an introduction to issues involved in design for testability (DFT). This will be followed by a discussion of fault simulation.</p>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://frezcirno.github.io/eda/Q1.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.7c00h.xyz/avatar.jpg">
      <meta itemprop="name" content="frezcirno">
      <meta itemprop="description" content="Frezcirno的个人博客, 记录一些技术相关的学习内容">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Frezcirno's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/eda/Q1.html" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-02 21:25:39" itemprop="dateCreated datePublished" datetime="2021-07-02T21:25:39+08:00">2021-07-02</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/eda/Q1.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="eda/Q1.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>22k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>20 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>Q1: Why is it important to find faults at design time?</strong></p>
<ul>
<li>One of the problems with building hardware is that, once built, it is not easily change. It is estimated that the relative cost of finding faults at design time,</li>
</ul>
<p><strong>Q2: What is the process of simulation? And when is it used?</strong></p>
<ul>
<li>Simulation is the process by which a model of the hardware is set up in software, or better still, in data structures that are ‘run’ by the software.</li>
</ul>
<p><strong>Q3: Is a computer aided design system a substitute for the intelligence of the designer?</strong></p>
<ul>
<li>A computer aided design systems is what it says it is – an aid. </li>
</ul>
<p><strong>Q4: What is the importance for a simulation to run with error reports open?</strong></p>
<ul>
<li>It is not meaningful for a simulation run without error reports. The design time is reduced, but redesign will be necessary.</li>
</ul>
<p><strong>Q5: What is the advantage gained for this very expensive process?</strong></p>
<ul>
<li>Simulation does not generally reduce design time. It frequently increase it, possibly by several hundred percent.</li>
</ul>
<p><strong>Q6: What is the first of all aims of a simulation?</strong></p>
<ul>
<li>Functional correctness（功能正确性）</li>
</ul>
<p><strong>Q7: Why does simulation need to check the responding time of a system?</strong></p>
<ul>
<li>Most systems will have some form of limit on the time they take to respond to given conditions. For example, designs using logic with basic gate speeds of 10ns will quite easily build up delays of 500 ns without the designer’s noticing.</li>
</ul>
<p><strong>Q8: Given basic delay of a simple TTL gate being 8.5 ns, with delays of ECL logic around 1 ns per gate, which technology is faster?</strong></p>
<ul>
<li>ECL logic</li>
</ul>
<p><strong>Q9: Give decreasing order of conductivity of the following metal materials: Au, Ag, polysilicon, Cu, Al.</strong></p>
<ul>
<li>Ag&gt;Cu&gt;Au&gt;Al&gt;polysilicon</li>
</ul>
<p><strong>Q10: What is time constant of a wire? How to compute it?</strong></p>
<ul>
<li>时间常数是在导线电压衰减到1/e的时间，计算公式为R*C。</li>
</ul>
<p><strong>Q11: In which stage in the design process, are wire delays known by the designer?</strong></p>
<ul>
<li>Wire delays are unknown until a late stage in the design process.</li>
</ul>
<p><strong>Q12: What is back annotation?</strong></p>
<ul>
<li>The feedback of layout data to the simulator is one example of what is known as back annotation.</li>
</ul>
<p><strong>Q13: If Z is used as the clock input of a flip-flop, please give an example of a race or hazard.</strong></p>
<ul>
<li>以图1.3为例，信号A与信号B进行与运算，由于A与逻辑门之间过长的组合逻辑电路产生的较长延时，导致输出信号Z产生了一个毛刺。</li>
</ul>
<p><strong>Q14: Please list two of the timing constraints for a flip-flop. What do they (set-up time, and hold time) mean?</strong></p>
<ul>
<li>1.Data to a flip-flop does not change just before the clock (set-up time)</li>
<li>2.Data to a flip-flop does not change just after the clock (hold time)</li>
<li>Setup Time: the  amount  of  time  the  data  at  the  synchronous  input  (D)  must  be  stable  before  the active edge of clock</li>
<li>Hold Time: the amount of time the data at the synchronous input (D) must be stable after the active edge of clock.</li>
</ul>
<p><strong>Q15: What is the use of outputs of the good circuit determined by simulation？</strong></p>
<ul>
<li>The outputs are compared with the output of production hardware to find as many faults as possible.</li>
</ul>
<p><strong>Q16：Which three sets of data does the process of simulation require? And what is the mechanism to process these data?</strong></p>
<ul>
<li>A description of the system to be simulated</li>
<li>A description of the inputs to the simulated system</li>
<li>A set of models of the components of the system being simulated</li>
<li>A mechanism(the simulator) to process these three in a manner which simulates the system being designed.</li>
</ul>
<p><strong>Q17: How can expected outputs for the test fixture be derived by simulation?</strong></p>
<ul>
<li>During test generation, the design is regarded as functionally correct. Hence the expected outputs for the test fixture to check against can be derived by simulation.</li>
</ul>
<p><strong>Q18: What is a top-down procedure as in Fig. 1.4 ?</strong></p>
<ul>
<li>As a rule, a customer will present the design engineer with a specification of the system. The engineer will first divide this into functional blocks – memory, CPU, control, etc. as shown in Fig. 1.4. Each of these major blocks can then be specified clearly and passed to different people for more detailed work. Eventually, the individual circuits such as 4-bit arithmetic logic units (ALUs) are designed. This is described as a top-down procedure.</li>
</ul>
<p><strong>Q19: How many bits does the machine doing the simulation need to represent -2 16?</strong></p>
<ul>
<li>18, 17 for the value and 1 for the sign.</li>
</ul>
<p><strong>Q20: What does the system being designed do, for example, (-2 15) * 2 16 ? How does that compare with the results from a 32-bit machine doing the simulation?</strong></p>
<ul>
<li>-2^31, 当后者是无符号数时是可以在32位乘法器中实现</li>
<li></li>
</ul>
<p><strong>Q21: What does it need for the simulator in the case that the design progressed through the levels unevenly?</strong></p>
<ul>
<li><ol>
<li>Check a low level block against a high level one;</li>
</ol>
</li>
<li><ol>
<li>Run multilevel simulations to<ul>
<li>enable simulations to run faster, since only a few blocks are simulated in detail;</li>
<li>enable larger systems to be simulated, since high level blocks generally requires less resources.</li>
</ul>
</li>
</ol>
</li>
</ul>
<p><strong>Q22: What should a simulator, which can handle all levels of design, be able to do?</strong></p>
<ul>
<li>Functional describes the logic function only and no timing.</li>
<li>Behavioral describe logic and timing.</li>
</ul>
<p><strong>Q23: What is the meaning of ‘functional description’? And what is that of ‘behavioral description’?</strong></p>
<ul>
<li>Functional describes the logic function only and no timing.</li>
<li>Behavioral describe logic and timing.</li>
</ul>
<p><strong>Q24: Which kind of models does gate-level description use?</strong></p>
<ul>
<li>This level of description uses models of ‘simple’ gates. The logical elements may include multiplexers and flip-flops, though both may be described in the data books in terms of ANDs and/or ORs.</li>
</ul>
<p><strong>Q25: What is the Boolean expression for ‘Sum’ and ‘Carry’, respectively, as in Fig. 1.5?</strong></p>
<ul>
<li>C = ~(AB) D = ~(A+B) E = C XOR D</li>
<li>E = ~C D + ~D C = A XOR B</li>
<li>Sum = A XOR B XOR Carry</li>
</ul>
<p><strong>Q26: Which element models are used in description of circuit-level simulation?</strong></p>
<ul>
<li>The circuit is described in terms of resistances, capacitances and voltage and current sources which are the models.</li>
</ul>
<p><strong>Q27: What is the primary technique with the trade off between speed and accuracy, which is known as switch level?</strong></p>
<ul>
<li>The primary technique is to regard the transistors as switches that are either open or closed.</li>
</ul>
<p><strong>Q28: Can switch-level simulation handle the transient performance of digital circuits? And can it give frequency responses of true analog circuits, like amplifiers? Why?</strong></p>
<ul>
<li>Yes. </li>
<li>No, At its simplest, no timing is involved. The circuit is divided into sections starting from a gate output and proceeding to the following inputs.</li>
</ul>
<p><strong>Q29: What is purpose of mixed-mode simulation?</strong></p>
<ul>
<li>To link circuit simulation and digital simulation</li>
</ul>
<p><strong>Q30: What way can be attempted to achieve mixed-mode simulation? Which one could be the best selection according to your analysis?</strong></p>
<ul>
<li>1) Write a link between a circuit simulator and a digital simulator.</li>
<li>2) A circuit analysis system based on events has been developed</li>
<li>3) ‘Behavioral analog’</li>
<li>The 2nd.</li>
</ul>
<p><strong>Q31: Why does the text say ‘writing accurate models of components is a difficult and skilled activity’? Please give an example to explain it.</strong></p>
<ul>
<li>设计者需要注意时序的问题，防止产生错误的逻辑。</li>
<li>An accurate model for such a flip-flop requires upwards of 300 high level programming language statements. It is hoped that any path through as a result of an input change will require only a fraction of these to be executed.</li>
</ul>
<p><strong>Q32: What are the purposes for the test generation to exercise the circuit?</strong></p>
<ul>
<li><ol>
<li>To show that the design is correct and the system performs according to specification.</li>
</ol>
</li>
<li><ol>
<li>A second set of test patterns is required to detect faults in the implementation.</li>
</ol>
</li>
</ul>
<p><strong>Q33: What is the really big problem in test generation? How the problem can be made easier?</strong></p>
<ul>
<li>The really big problem in test generation is, how do we know that the set of test patterns is comprehensive?</li>
<li>The problem can be made easier if the design is done with testability in mind.</li>
</ul>
<p><strong>Q34: What is required to check with a fault simulator, when a set of test patterns has been generated?</strong></p>
<ul>
<li>it is required to check which faults can be detected.</li>
</ul>
<p><strong>Q35: Why stuck-at faults is usually the detective goal of a set of test patterns?</strong></p>
<ul>
<li>It has been found in practice that, if a set of test patterns will detect all stuck-at faults, it will detect most other faults as well.</li>
</ul>
<p><strong>Q36: What is the problem of ignoring the time consuming and expensive fault simulation?</strong></p>
<ul>
<li>Fault simulation is a time consuming and expensive business. It is one which is often ignored at the cost of one’s peril.</li>
</ul>
<p><strong>Q37: Which techniques could be used to make timing verifiers less pessimistic? Will these techniques take care to not miss significant events as well?</strong></p>
<ul>
<li>There are techniques to make timing verifiers less pessimistic, but care has to be taken not to miss significant events as a result.</li>
<li>Yes</li>
</ul>
<p><strong>Q1: How many approaches to simulation? And what are they?</strong></p>
<ul>
<li>There are two approaches to simulation:</li>
<li><ol>
<li>Simulate for functional correctness, ignoring all timing considerations.</li>
</ol>
</li>
<li><ol>
<li>Simulate in an environment in which the models include timing.</li>
</ol>
</li>
</ul>
<p><strong>Q2: What is the simplest approach to simulation? What is the according advantage and disadvantage, respectively?</strong></p>
<ul>
<li>The simplest approach to simulation is to have a separate procedure for every logical element in the network, and the connections between the elements are then mirrored in the machine code of the program.</li>
</ul>
<p><strong>Q3: By having only one procedure for each element type, how about the storage and computing cost changes as compared with for every logical element?</strong></p>
<ul>
<li>Procedure calls need machine states to be saved temporarily and restored on exit, which is expensive in CPU resources.</li>
<li>Storage space is saved, since only one copy of each different procedure is needed. The cost is the time taken in procedure calling.</li>
</ul>
<p><strong>Q4: How about element’s delay in the simplest simulator?</strong></p>
<ul>
<li>In the simplest simulator, all elements will have the same delay.</li>
</ul>
<p><strong>Q5: Could the simplest simulator be used for timing verification?</strong></p>
<ul>
<li>No. 因为在简单仿真器中所有的器件被视为拥有相同的延时，也就是说最简仿真器没有考虑时序因素。</li>
</ul>
<p><strong>Q6: How is the first type of simulator designed to check logical correctness and timing accuracy, respectively? What is the name of this type of simulator?</strong></p>
<ul>
<li>It is usually run by compiling the network, and is frequently known as the compiled code simulator, since the structure is reflected in the machine storage and the program. </li>
<li>It is a static structure, allowing no timing detail to be seen.</li>
</ul>
<p><strong>Q7: What is the name of the second type of simulator? How usually is it run?</strong></p>
<ul>
<li>It is referred to as a table-based event driven simulator (or table based or event driven for brevity). Such a simulator usually (but not necessarily) is run interpretively.</li>
</ul>
<p><strong>Q8: What are other distinctions between the two?</strong></p>
<ul>
<li>The compiled code approach presumes a synchronous system is being simulated – that is a system consisting essentially of blocks of combinational logic separated by clocked registers.</li>
<li>The event driven approach can handle any system, including asynchronous systems.</li>
</ul>
<p><strong>Q9: What is the essence of a compiled code simulator?</strong></p>
<ul>
<li>The essence of a compiled code simulator is that the structure of the system under simulation is reflected in the computer storage, and that each logical element has its own code.</li>
</ul>
<p><strong>Q10: What is the logic function of the not equivalence circuit as in Fig. 6.1?</strong></p>
<ul>
<li>Z=¯(¯(A⋅¯AB) ¯(B⋅¯AB))=A⋅¯AB+B⋅¯AB=(A+B)(¯A+¯B)=A⊕B</li>
</ul>
<p><strong>Q11: What is the full name of ‘LCC’? What is it based on?</strong></p>
<ul>
<li>The full name of ‘LCC’ is levelized compiled code simulator.</li>
<li>这个问题是想问使用LCC的目的，是为了检查电路的逻辑正确性。</li>
</ul>
<p><strong>Q12: With real timing, is it possible for a narrow pulse to occur at D or E?</strong></p>
<ul>
<li>Yes.</li>
</ul>
<p><strong>Q13: What is the elements limitation in the Yorktown Simulation Engine?</strong></p>
<ul>
<li>In the Yorktown Simulation Engine (YSE), the elements are limited to 4-input 1-output devices. Thus only 5 addresses are needed per element in the YSE and all are provided for every element. There will still be some wastage, but it will be strictly limited.</li>
</ul>
<p><strong>Q14: By what will the network compiler ensure connectivity of the network in the ‘instruction memory’?</strong></p>
<ul>
<li>The network compiler will ensure that connectivity of the network is implied by signal addresses in the ‘instruction memory’. These signal addresses refer to the data memory.</li>
</ul>
<p><strong>Q15: What is the relationship between the ‘instruction memory’ and the data memory?</strong></p>
<ul>
<li>The connectivity of the network is implied by signal addresses in the ‘instruction memory’.</li>
<li>These signal addresses refer to the data memory.</li>
</ul>
<p><strong>Q16: Will the instruction memory change with different input values?</strong></p>
<ul>
<li>No. 因为instruction memory是描述器件的网表，与你的信号值是无关的，所以不同的输入信号并不会改变它的内容</li>
</ul>
<p><strong>Q17: Will the data memory change with different input values?</strong></p>
<ul>
<li>Yes.</li>
</ul>
<p><strong>Q18: Is the simple R-S flip-flop a deadlock situation for a LCC simulator? And, why?</strong></p>
<ul>
<li>Yes. R-S flip-flop has feedback in it.</li>
</ul>
<p><strong>Q19: In which memory is table 6.3 stored?</strong></p>
<ul>
<li>data memory.</li>
</ul>
<p><strong>Q20: What danger is there in all simulators according to table 6.4, in networks involving feedback?</strong></p>
<ul>
<li>In all simulators there is a danger of oscillation in networks involving feedback.</li>
</ul>
<p><strong>Q21: Is the LCC simulator a powerful tool for asynchronous logic? Give an example of asynchronous circuit, and give some comments.</strong></p>
<ul>
<li><p>No, LCC simulators should only be used with synchronous systems.</p>
</li>
<li><p>In digital electronics, an asynchronous circuit, clockless, or self-timed circuit, is a sequential digital logic circuit which is not governed by a clock circuit or global clock signal. Instead it often uses signals that indicate completion of instructions and operations, specified by simple data transfer protocols. (From Wikipedia) For example: </p>
</li>
<li></li>
</ul>
<p><strong>Q22: Why does the compiled code simulator run very fast?</strong></p>
<ul>
<li>The compiled code simulator runs very fast, since the code traces the links between elements, and time is ignored.</li>
</ul>
<p><strong>Q23: How to solve the problem that any change in network or devices require a full recompilation?</strong></p>
<ul>
<li>Use the event driven simulator.</li>
</ul>
<p><strong>Q24: What is the activity rate does it corresponds to the clock period of the synchronous logic for a LCC simulator?</strong></p>
<ul>
<li>As every logical element is evaluated in this time period, the activity is said to be 100%.</li>
<li>For synchronous logic this corresponds to the activity in one clock period of the system.</li>
<li></li>
</ul>
<p><strong>Q25: Why is the number of elements that requires evaluating is typically 1% or less at each time step for the event driven simulator?</strong></p>
<ul>
<li>Because time steps are much less than a clock period.</li>
</ul>
<p><strong>Q26: What is meaning of the ‘time step’ for a compiled code simulator?</strong></p>
<ul>
<li>In a compiled code simulator, a ‘time step’ is equivalent to a clock period.</li>
</ul>
<p><strong>Q27: What is the strength of an event driven simulator?</strong></p>
<ul>
<li>The strength of an event driven simulator is its ability to provide detailed timing.</li>
</ul>
<p><strong>Q28: What is the primary advantage of an event driven simulator?</strong></p>
<ul>
<li>The primary advantage of the event driven simulator is not speed, but time accuracy.</li>
</ul>
<p><strong>Q29: How many steps are there in the simulator’s working with the set of events for the time T? Describe the process step by step.</strong></p>
<ul>
<li>Three.</li>
<li>An event is extracted from the list. The event data includes an address in the gate’s fan-out table.</li>
<li>Starting at this address, the value of this output signal is updated. Subsequent fan-out table addresses point to element inputs driven by the current event. For each of the driven elements in turn, the data is extracted from other tables, the element type is determined, and the model evaluated.</li>
<li>Outputs will be predicted to occur some time in the future, 𝛿t say, and these will be added to the event list for time T+𝛿t .</li>
</ul>
<p><strong>Q30: Where will the events be added to the event list for time T if outputs predicted to occur δt in the future?</strong></p>
<ul>
<li>The events will be added to the event list for time T+𝛿t .</li>
</ul>
<p><strong>Q31: What is the information contained in the fan-out memory?</strong></p>
<ul>
<li>The fan-out memory, FOM, containing information on where to find the inputs which are driven by that output.</li>
</ul>
<p><strong>Q32: In the case of no change at present, whether an output prediction is forwarded to the event memory or not?</strong></p>
<ul>
<li>Yes. All output predictions must be forwarded to the event memory, even if, at this stage, there appears to be no change.</li>
</ul>
<p><strong>Q33: What fields do records contain in a single linked list for an event memory?</strong></p>
<ul>
<li>value, fan-out index and absolute time.</li>
</ul>
<p><strong>Q34: What is the deficiency of using a single linked list for an event memory? And, what is the solution?</strong></p>
<ul>
<li>The total number of events in the memory for a reasonable sized piece of logic will be very large, and hence finding the place at which to insert an event could take a long time.</li>
<li>The usual approach is to form a list of lists in order of time, called a ‘time wheel’.</li>
</ul>
<p><strong>Q35: What is the size of the total number of events in an EM for a reasonable sized piece of logic?</strong></p>
<ul>
<li>The total number of events in the memory for a reasonable sized piece of logic will be very</li>
<li>large, and hence finding the place at which to insert an event could take a long time.</li>
</ul>
<p><strong>Q36: What kind of structure can you form for a ‘time wheel’?</strong></p>
<ul>
<li>The usual approach is to form a list of lists in order of time, called a ‘time wheel’.</li>
</ul>
<p><strong>Q37: What is a ‘time wheel’ or chronwheel?</strong></p>
<ul>
<li>The list pointers are thus a circular list, and is called a time WHEEL or chronwheel. The wheel itself is an array of pointers.</li>
</ul>
<p><strong>Q38: Where does each pointer in the time wheel indicate? Does a list of events make good use of storage? Why?</strong></p>
<ul>
<li>Each pointer in the time wheel indicates the address of a list of events that has been scheduled for that time. </li>
<li>It doesn’t make good use of storage, because:</li>
<li>Each list must be long enough to hold the maximum number of events for any time interval.</li>
<li>Furthermore, the lists for the times furthest ahead are likely to have relatively few events.</li>
<li>This is a very poor use of storage.</li>
</ul>
<p><strong>Q39: What is the alternative structure for each time slot in the time wheel?</strong></p>
<ul>
<li>An alternative is to use a linked list for each time slot in the time wheel. It is only necessary to provide sufficient storage for the sum of all the event lists, and there is much less wastage.</li>
</ul>
<p><strong>Q40: Which fields are there in each record of EM?</strong></p>
<ul>
<li>Each record holds the predicted value of a signal, the fan-out index (FOI), and a pointer.</li>
<li></li>
</ul>
<p><strong>Q41: How many events are there in the set for this time in Fig. 6.11?</strong></p>
<ul>
<li>2 events. 包含两个事件，分别在地址137和地址31的事件寄存器中。</li>
</ul>
<p><strong>Q42: When is the address 137 added to the end of the free list?</strong></p>
<ul>
<li>The time wheel pointer is 137. The record at location 137 (in EM) is read. The pointer value, 31, is placed in the time wheel (for ‘T’) and the address 137 added to the end of the free list.</li>
</ul>
<p><strong>Q43: What is the processing sequence for events at time ‘T’, as in Fig. 6.11? Is the order of processing of all events in a given  list, which take place at the same time, important?</strong></p>
<ul>
<li>The sequence of event is the event 137 to event 31.</li>
<li>事件处理的顺序不重要，因为每一个事件作用于一个单独的信号，因此事件之间互不影响，可以并行处理。</li>
</ul>
<p><strong>Q44: What does 3.5 sets of data out consist of according to conventional wisdom suggestion?</strong></p>
<ul>
<li>Conventional wisdom suggests that each output drives 2.5 inputs on average, so for each event, there are 3.5 sets of data out, that is for the output and 2.5 inputs (of the driven elements).</li>
</ul>
<p><strong>Q45: Do the elements driven by C need to be evaluated again at time 17, as in Fig. 6.13? Why?</strong></p>
<ul>
<li>No. Since all driven elements have already been evaluated for this change, they do not need to be evaluated again as a result of this event.</li>
</ul>
<p><strong>Q46: What does the simulator do if the output prediction is different from the value in the state table?</strong></p>
<ul>
<li>If the output prediction is different from the value in the state table, the event is passed on to the evaluation routines. The signal value in the state table is updated.</li>
</ul>
<p><strong>Q47: Which interested memories are there in an event driven simulator as in Fig. 6.7?</strong></p>
<ul>
<li>There are 4 interested memories (Fig. 6.7), which are each an allocated area of the real machine memory. </li>
<li>Network memory, event memory, fan-out memory, state table</li>
</ul>
<p><strong>Q48: What is the form of addressing of the memories? What will be NM234 for the base of 10,000?</strong></p>
<ul>
<li>Addressing of the memories will be written in the form of base and offset.</li>
<li>To find an item of data, the offset is added to the base to give the real address. Thus, NM234 will be 10234.</li>
</ul>
<p><strong>Q49: What is the Boolean expression of Z with the primary inputs as in Fig. 6.14?</strong></p>
<ul>
<li>Z=A⊕B</li>
</ul>
<p><strong>Q50: According to Table 6.5, what data is stored in a network memory? You may give your explanation using G1 as an example.</strong></p>
<ul>
<li>第一行是器件的名称以及在输出信号在FM的地址，</li>
<li>第二行是器件输出信号的名称和信号值，之后是输入信号的名称和信号值</li>
<li>最后是器件的功能，或者工艺信息。</li>
<li>The 1st contains the base address of data relating to G1 in the fan-out memory.</li>
<li>The 2nd contains the output value and the next two contain the input values.</li>
<li>The last line contains the element type (or a pointer to the evaluation routine for this element)</li>
</ul>
<p><strong>Q51: Which information can you find in FOM for a signal? Give your explanation using signal C as an example in Table 6.6.</strong></p>
<ul>
<li>For G1, the output C is on line NM(1+1), and the two fan-in’s on lines NM(6+3) and NM(11+2)</li>
<li>of the network memory.</li>
</ul>
<p><strong>Q53: Is the delay of tpLH equivalent to that of tpHL for the elements of example circuit? What is the value for each of them,  respectively?</strong></p>
<ul>
<li>No. The tpLH is 9ns, while the tpHL is 5ns.</li>
</ul>
<p><strong>Q54: What is the fan-out index of signal A as known by the primary input controller?</strong></p>
<ul>
<li>The fan-out index of A is known by the primary input controller to be FOM1.</li>
</ul>
<p><strong>Q55: What is to do if the value from the state table different from the new value of A?</strong></p>
<ul>
<li>The state table value is updated.</li>
</ul>
<p><strong>Q56: Must an input change be sent to the event memory even if gate-output’s prediction is unchanged?</strong></p>
<ul>
<li>Yes.</li>
</ul>
<p><strong>Q57: What is indicated as the flag in FOM1 of the fan-out memory is 1? Which memory location is set to 0 with the output of G2 being  predicted to 0 at time 5?</strong></p>
<ul>
<li>The flag in FOM1 of the fan-out memory is 1, indicating that another gate input is driven by A.</li>
<li>The next free memory location in the event memory is at address EM1. The value in this location is set to 0, and the fan-out index to FOM8.</li>
</ul>
<p><strong>Q58: What does time do since the flag in line 2 of the fan-out memory is 0？Why？</strong></p>
<ul>
<li>Time now advances to find the next event., because there are no further fan-outs of signal A</li>
</ul>
<p><strong>Q59: What is the wheel pointer, at time 5? Which steps does simulator follow after find address EM1 of the event memory?</strong></p>
<ul>
<li>At time 5, the time wheel pointer is EM1.</li>
<li>Address EM1 of the event memory has a fan-out index of FOM8.Reading line FOM8 of the fan-out memory finds the state table line ST2. Considering state table for line ST2, it is found that the value is 1 prior to time 5. The value from the event memory is 0, so there is a change. The value in line ST2 of the state table is updated accordingly. The fan-out memory of line FOM8 points to line NM(6+1) in the network memory. This is the output of G2, so Dis also updated. As this is an output, an evaluation is not required. Line EM1 location is returned to the free list.</li>
</ul>
<p><strong>Q60: What should the simulator do if a line of the fan-out memory has its flag set?</strong></p>
<ul>
<li>Read a further line.</li>
</ul>
<p><strong>Q61: When does the evaluation at time 5 predict that Z will change from ‘0’to ‘1’?</strong></p>
<ul>
<li>The evaluation predicts that Z will change to 1 in tpLH, at time 5+9 = 14.</li>
</ul>
<p><strong>Q62: What operation was taken on the EM when the event at time 5 was read out?</strong></p>
<ul>
<li>Event memory location EM1 was recovered when the event at time 5 was read out, so this is the next available location.</li>
</ul>
<p><strong>Q63: Why is there no further activity as a result of the change of A at time 0 after the event at time 14 is processed?</strong></p>
<ul>
<li>There are no fan-outs of this signal and there are no more events in the time wheel, so there is no further activity as a result of this change of A.</li>
</ul>
<p><strong>Q64: What is the new change that the primary input controller applies at time 100?</strong></p>
<ul>
<li>This is B going to 1.</li>
</ul>
<p><strong>Q65: What problem does consideration of the potential changes from 114 illustrate? And, what is the solution?</strong></p>
<ul>
<li>The first indicates a change of E to 1. As D is still 0(data not yet read), a prediction that Z will change to 1 at time 123 is made.</li>
<li>However, on reading the D change, it is found that Z is predicted to go to 0 at time 119.</li>
<li><p>It is assumed that the event at time 123 is deleted after the second event is read on processing T =114.</p>
</li>
<li><p>There are two solution, both of which are required.</p>
</li>
<li>For this specific case, it is sufficient if it can be arranged to evaluate each element not more than once in each time slot. This is described further in Sec. 6.5.1(*some refinements).</li>
<li>The second solution is to remove the event at time 123. This in turn requires knowledge that the event has been placed, followed by a search of all event memory lists which might contain the false prediction.</li>
<li>However, the use of unequal rising and falling delays, as here, makes it necessary to have some such mechanism.</li>
</ul>
<p><strong>Q66: What is the longest delay through the circuit for the input (B)’s changing at time 100? And, what is that for A’s changing to 0  at 200 ns?</strong></p>
<ul>
<li>19ns; 23ns.</li>
</ul>
<p><strong>Q67: What is the aim of a timing verifier?</strong></p>
<ul>
<li>The aim of a timing verifier is to perform a full analysis of the circuit independent of the input patterns</li>
</ul>
<p><strong>Q68: What is the horizontal ordinate and vertical ordinate for the state table, respectively?</strong></p>
<ul>
<li>horizontal ordinate: address</li>
<li>vertical ordinate: T</li>
<li>横坐标是仿真的时间点，纵坐标是每一个信号的指针</li>
</ul>
<p><strong>Q69: What is the use of Free List of EM?</strong></p>
<ul>
<li>For prediction and recover. </li>
<li>free list用于存储事件寄存器中哪些空间可用，他可以让所有时轮中的事件列表共用一块内存。</li>
</ul>
<p><strong>Q70: Notice the short pulse on E. Does the ‘logic only’ LCC simulator predict this? Why is the difference?</strong></p>
<ul>
<li>No. 我们注意到e的一个短脉冲是由于c信号翻转的延时导致的，因此不考虑时延的LCC模型是不能对其进行描述的。</li>
</ul>
<p><strong>Q71: Which are examples of groups of signals?</strong></p>
<ul>
<li>Examples might include: memory address signals; data buses in a processor.</li>
</ul>
<p><strong>Q72: What benefits does treating such groups as a unit leads to?</strong></p>
<ul>
<li>Since the group is treated as a unit, it requires only one fan-out index.</li>
<li>As there is only one set of fan-out data per group, the storage requirements of the fan-out memory are also reduced.</li>
<li>As the group is a single unit, only one event has to pass around the simulator for each group.</li>
</ul>
<p><strong>Q73: How many fan-out index does it require since the group is treated as a unit? And, how about the number of events?</strong></p>
<ul>
<li>Since the group is treated as a unit, it requires only one fan-out index.</li>
</ul>
<p><strong>Q74: How many bits are defined in IEEE 754 standard for single-precision floating point number and double-precision number,  respectively?</strong></p>
<ul>
<li>32 bits for single-precision, 64 bits for double-precision number.</li>
</ul>
<p><strong>Q75: How does the simulator know a group and identify the size of its?</strong></p>
<ul>
<li>There is a bit to indicate that this is a group and some means of identifying the size of the group.</li>
</ul>
<p><strong>Q76: Where is a new routine named group split unit placed in Fig. 6.7? What does the group split unit do when it notices a new  prediction?</strong></p>
<ul>
<li>A new routine is placed in the simulator between the evaluator and the event memory (Fig. 6.7)</li>
<li>When the 32-bit register prediction reaches the group split unit, the unit notices that it is a group rather than a single signal. The group split unit now calls the splitting procedure for this group. For the example quoted two groups are formed.</li>
</ul>
<p><strong>Q77: How many groups are there in line FOM53 after group splitting?</strong></p>
<ul>
<li>3</li>
</ul>
<p><strong>Q78: What is the offset for the 8-bit subgroup, 2 single bits, and the 20-bit group, respectively, supposing that the combined group  starts at NM (1234 + 5) in the network memory? And, which locations does each of them occupy?</strong></p>
<ul>
<li>Each subgroup, including the single bits, will have address NM1234 in the fan-out memory. All the offsets are computed by the network compiler at compile time.</li>
</ul>
<p><strong>Q79: What are major times involved in simulation?</strong></p>
<ul>
<li>The major times involved in simulation are</li>
<li>calling and evaluating models,</li>
<li>extracting data from the time wheel, following fan-out linkages and forming the affected components list,</li>
<li>searching for erroneous data.</li>
</ul>
<p><strong>Q80: Which kinds of models do switch level simulators require?</strong></p>
<ul>
<li>Switch level simulators require different modelling approaches.</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://frezcirno.github.io/eda/Q2.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.7c00h.xyz/avatar.jpg">
      <meta itemprop="name" content="frezcirno">
      <meta itemprop="description" content="Frezcirno的个人博客, 记录一些技术相关的学习内容">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Frezcirno's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/eda/Q2.html" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-02 21:25:39" itemprop="dateCreated datePublished" datetime="2021-07-02T21:25:39+08:00">2021-07-02</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/eda/Q2.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="eda/Q2.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>15k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>14 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>Q1: How many approaches to simulation? And what are they?</strong></p>
<ul>
<li>There are two approaches to simulation:</li>
<li><ol>
<li>Simulate for functional correctness, ignoring all timing considerations.</li>
</ol>
</li>
<li><ol>
<li>Simulate in an environment in which the models include timing.</li>
</ol>
</li>
</ul>
<p><strong>Q2: What is the simplest approach to simulation? What is the according advantage and disadvantage, respectively?</strong></p>
<ul>
<li>The simplest approach to simulation is to have a separate procedure for every logical element in the network, and the connections between the elements are then mirrored in the machine code of the program.</li>
</ul>
<p><strong>Q3: By having only one procedure for each element type, how about the storage and computing cost changes as compared with for every logical element?</strong></p>
<ul>
<li>Procedure calls need machine states to be saved temporarily and restored on exit, which is expensive in CPU resources.</li>
<li>Storage space is saved, since only one copy of each different procedure is needed. The cost is the time taken in procedure calling.</li>
</ul>
<p><strong>Q4: How about element’s delay in the simplest simulator?</strong></p>
<ul>
<li>In the simplest simulator, all elements will have the same delay.</li>
</ul>
<p><strong>Q5: Could the simplest simulator be used for timing verification?</strong></p>
<ul>
<li>No. 因为在简单仿真器中所有的器件被视为拥有相同的延时，也就是说最简仿真器没有考虑时序因素。</li>
</ul>
<p><strong>Q6: How is the first type of simulator designed to check logical correctness and timing accuracy, respectively? What is the name of this type of simulator?</strong></p>
<ul>
<li>It is usually run by compiling the network, and is frequently known as the compiled code simulator, since the structure is reflected in the machine storage and the program. </li>
<li>It is a static structure, allowing no timing detail to be seen.</li>
</ul>
<p><strong>Q7: What is the name of the second type of simulator? How usually is it run?</strong></p>
<ul>
<li>It is referred to as a table-based event driven simulator (or table based or event driven for brevity). Such a simulator usually (but not necessarily) is run interpretively.</li>
</ul>
<p><strong>Q8: What are other distinctions between the two?</strong></p>
<ul>
<li>The compiled code approach presumes a synchronous system is being simulated – that is a system consisting essentially of blocks of combinational logic separated by clocked registers.</li>
<li>The event driven approach can handle any system, including asynchronous systems.</li>
</ul>
<p><strong>Q9: What is the essence of a compiled code simulator?</strong></p>
<ul>
<li>The essence of a compiled code simulator is that the structure of the system under simulation is reflected in the computer storage, and that each logical element has its own code.</li>
</ul>
<p><strong>Q10: What is the logic function of the not equivalence circuit as in Fig. 6.1?</strong></p>
<ul>
<li>Z=¯(¯(A⋅¯AB) ¯(B⋅¯AB))=A⋅¯AB+B⋅¯AB=(A+B)(¯A+¯B)=A⊕B</li>
</ul>
<p><strong>Q11: What is the full name of ‘LCC’? What is it based on?</strong></p>
<ul>
<li>The full name of ‘LCC’ is levelized compiled code simulator.</li>
<li>这个问题是想问使用LCC的目的，是为了检查电路的逻辑正确性。</li>
</ul>
<p><strong>Q12: With real timing, is it possible for a narrow pulse to occur at D or E?</strong></p>
<ul>
<li>Yes.</li>
</ul>
<p><strong>Q13: What is the elements limitation in the Yorktown Simulation Engine?</strong></p>
<ul>
<li>In the Yorktown Simulation Engine (YSE), the elements are limited to 4-input 1-output devices. Thus only 5 addresses are needed per element in the YSE and all are provided for every element. There will still be some wastage, but it will be strictly limited.</li>
</ul>
<p><strong>Q14: By what will the network compiler ensure connectivity of the network in the ‘instruction memory’?</strong></p>
<ul>
<li>The network compiler will ensure that connectivity of the network is implied by signal addresses in the ‘instruction memory’. These signal addresses refer to the data memory.</li>
</ul>
<p><strong>Q15: What is the relationship between the ‘instruction memory’ and the data memory?</strong></p>
<ul>
<li>The connectivity of the network is implied by signal addresses in the ‘instruction memory’.</li>
<li>These signal addresses refer to the data memory.</li>
</ul>
<p><strong>Q16: Will the instruction memory change with different input values?</strong></p>
<ul>
<li>No. 因为instruction memory是描述器件的网表，与你的信号值是无关的，所以不同的输入信号并不会改变它的内容</li>
</ul>
<p><strong>Q17: Will the data memory change with different input values?</strong></p>
<ul>
<li>Yes.</li>
</ul>
<p><strong>Q18: Is the simple R-S flip-flop a deadlock situation for a LCC simulator? And, why?</strong></p>
<ul>
<li>Yes. R-S flip-flop has feedback in it.</li>
</ul>
<p><strong>Q19: In which memory is table 6.3 stored?</strong></p>
<ul>
<li>data memory.</li>
</ul>
<p><strong>Q20: What danger is there in all simulators according to table 6.4, in networks involving feedback?</strong></p>
<ul>
<li>In all simulators there is a danger of oscillation in networks involving feedback.</li>
</ul>
<p><strong>Q21: Is the LCC simulator a powerful tool for asynchronous logic? Give an example of asynchronous circuit, and give some comments.</strong></p>
<ul>
<li><p>No, LCC simulators should only be used with synchronous systems.</p>
</li>
<li><p>In digital electronics, an asynchronous circuit, clockless, or self-timed circuit, is a sequential digital logic circuit which is not governed by a clock circuit or global clock signal. Instead it often uses signals that indicate completion of instructions and operations, specified by simple data transfer protocols. (From Wikipedia) For example: </p>
</li>
<li></li>
</ul>
<p><strong>Q22: Why does the compiled code simulator run very fast?</strong></p>
<ul>
<li>The compiled code simulator runs very fast, since the code traces the links between elements, and time is ignored.</li>
</ul>
<p><strong>Q23: How to solve the problem that any change in network or devices require a full recompilation?</strong></p>
<ul>
<li>Use the event driven simulator.</li>
</ul>
<p><strong>Q24: What is the activity rate does it corresponds to the clock period of the synchronous logic for a LCC simulator?</strong></p>
<ul>
<li>As every logical element is evaluated in this time period, the activity is said to be 100%.</li>
<li>For synchronous logic this corresponds to the activity in one clock period of the system.</li>
<li></li>
</ul>
<p><strong>Q25: Why is the number of elements that requires evaluating is typically 1% or less at each time step for the event driven simulator?</strong></p>
<ul>
<li>Because time steps are much less than a clock period.</li>
</ul>
<p><strong>Q26: What is meaning of the ‘time step’ for a compiled code simulator?</strong></p>
<ul>
<li>In a compiled code simulator, a ‘time step’ is equivalent to a clock period.</li>
</ul>
<p><strong>Q27: What is the strength of an event driven simulator?</strong></p>
<ul>
<li>The strength of an event driven simulator is its ability to provide detailed timing.</li>
</ul>
<p><strong>Q28: What is the primary advantage of an event driven simulator?</strong></p>
<ul>
<li>The primary advantage of the event driven simulator is not speed, but time accuracy.</li>
</ul>
<p><strong>Q29: How many steps are there in the simulator’s working with the set of events for the time T? Describe the process step by step.</strong></p>
<ul>
<li>Three.</li>
<li>An event is extracted from the list. The event data includes an address in the gate’s fan-out table.</li>
<li>Starting at this address, the value of this output signal is updated. Subsequent fan-out table addresses point to element inputs driven by the current event. For each of the driven elements in turn, the data is extracted from other tables, the element type is determined, and the model evaluated.</li>
<li>Outputs will be predicted to occur some time in the future, 𝛿t say, and these will be added to the event list for time T+𝛿t .</li>
</ul>
<p><strong>Q30: Where will the events be added to the event list for time T if outputs predicted to occur δt in the future?</strong></p>
<ul>
<li>The events will be added to the event list for time T+𝛿t .</li>
</ul>
<p><strong>Q31: What is the information contained in the fan-out memory?</strong></p>
<ul>
<li>The fan-out memory, FOM, containing information on where to find the inputs which are driven by that output.</li>
</ul>
<p><strong>Q32: In the case of no change at present, whether an output prediction is forwarded to the event memory or not?</strong></p>
<ul>
<li>Yes. All output predictions must be forwarded to the event memory, even if, at this stage, there appears to be no change.</li>
</ul>
<p><strong>Q33: What fields do records contain in a single linked list for an event memory?</strong></p>
<ul>
<li>value, fan-out index and absolute time.</li>
</ul>
<p><strong>Q34: What is the deficiency of using a single linked list for an event memory? And, what is the solution?</strong></p>
<ul>
<li>The total number of events in the memory for a reasonable sized piece of logic will be very large, and hence finding the place at which to insert an event could take a long time.</li>
<li>The usual approach is to form a list of lists in order of time, called a ‘time wheel’.</li>
</ul>
<p><strong>Q35: What is the size of the total number of events in an EM for a reasonable sized piece of logic?</strong></p>
<ul>
<li>The total number of events in the memory for a reasonable sized piece of logic will be very</li>
<li>large, and hence finding the place at which to insert an event could take a long time.</li>
</ul>
<p><strong>Q36: What kind of structure can you form for a ‘time wheel’?</strong></p>
<ul>
<li>The usual approach is to form a list of lists in order of time, called a ‘time wheel’.</li>
</ul>
<p><strong>Q37: What is a ‘time wheel’ or chronwheel?</strong></p>
<ul>
<li>The list pointers are thus a circular list, and is called a time WHEEL or chronwheel. The wheel itself is an array of pointers.</li>
</ul>
<p><strong>Q38: Where does each pointer in the time wheel indicate? Does a list of events make good use of storage? Why?</strong></p>
<ul>
<li>Each pointer in the time wheel indicates the address of a list of events that has been scheduled for that time. </li>
<li>It doesn’t make good use of storage, because:</li>
<li>Each list must be long enough to hold the maximum number of events for any time interval.</li>
<li>Furthermore, the lists for the times furthest ahead are likely to have relatively few events.</li>
<li>This is a very poor use of storage.</li>
</ul>
<p><strong>Q39: What is the alternative structure for each time slot in the time wheel?</strong></p>
<ul>
<li>An alternative is to use a linked list for each time slot in the time wheel. It is only necessary to provide sufficient storage for the sum of all the event lists, and there is much less wastage.</li>
</ul>
<p><strong>Q40: Which fields are there in each record of EM?</strong></p>
<ul>
<li>Each record holds the predicted value of a signal, the fan-out index (FOI), and a pointer.</li>
<li></li>
</ul>
<p><strong>Q41: How many events are there in the set for this time in Fig. 6.11?</strong></p>
<ul>
<li>2 events. 包含两个事件，分别在地址137和地址31的事件寄存器中。</li>
</ul>
<p><strong>Q42: When is the address 137 added to the end of the free list?</strong></p>
<ul>
<li>The time wheel pointer is 137. The record at location 137 (in EM) is read. The pointer value, 31, is placed in the time wheel (for ‘T’) and the address 137 added to the end of the free list.</li>
</ul>
<p><strong>Q43: What is the processing sequence for events at time ‘T’, as in Fig. 6.11? Is the order of processing of all events in a given  list, which take place at the same time, important?</strong></p>
<ul>
<li>The sequence of event is the event 137 to event 31.</li>
<li>事件处理的顺序不重要，因为每一个事件作用于一个单独的信号，因此事件之间互不影响，可以并行处理。</li>
</ul>
<p><strong>Q44: What does 3.5 sets of data out consist of according to conventional wisdom suggestion?</strong></p>
<ul>
<li>Conventional wisdom suggests that each output drives 2.5 inputs on average, so for each event, there are 3.5 sets of data out, that is for the output and 2.5 inputs (of the driven elements).</li>
</ul>
<p><strong>Q45: Do the elements driven by C need to be evaluated again at time 17, as in Fig. 6.13? Why?</strong></p>
<ul>
<li>No. Since all driven elements have already been evaluated for this change, they do not need to be evaluated again as a result of this event.</li>
</ul>
<p><strong>Q46: What does the simulator do if the output prediction is different from the value in the state table?</strong></p>
<ul>
<li>If the output prediction is different from the value in the state table, the event is passed on to the evaluation routines. The signal value in the state table is updated.</li>
</ul>
<p><strong>Q47: Which interested memories are there in an event driven simulator as in Fig. 6.7?</strong></p>
<ul>
<li>There are 4 interested memories (Fig. 6.7), which are each an allocated area of the real machine memory. </li>
<li>Network memory, event memory, fan-out memory, state table</li>
</ul>
<p><strong>Q48: What is the form of addressing of the memories? What will be NM234 for the base of 10,000?</strong></p>
<ul>
<li>Addressing of the memories will be written in the form of base and offset.</li>
<li>To find an item of data, the offset is added to the base to give the real address. Thus, NM234 will be 10234.</li>
</ul>
<p><strong>Q49: What is the Boolean expression of Z with the primary inputs as in Fig. 6.14?</strong></p>
<ul>
<li>Z=A⊕B</li>
</ul>
<p><strong>Q50: According to Table 6.5, what data is stored in a network memory? You may give your explanation using G1 as an example.</strong></p>
<ul>
<li>第一行是器件的名称以及在输出信号在FM的地址，</li>
<li>第二行是器件输出信号的名称和信号值，之后是输入信号的名称和信号值</li>
<li>最后是器件的功能，或者工艺信息。</li>
<li>The 1st contains the base address of data relating to G1 in the fan-out memory.</li>
<li>The 2nd contains the output value and the next two contain the input values.</li>
<li>The last line contains the element type (or a pointer to the evaluation routine for this element)</li>
</ul>
<p><strong>Q51: Which information can you find in FOM for a signal? Give your explanation using signal C as an example in Table 6.6.</strong></p>
<ul>
<li>For G1, the output C is on line NM(1+1), and the two fan-in’s on lines NM(6+3) and NM(11+2)</li>
<li>of the network memory.</li>
</ul>
<p><strong>Q53: Is the delay of tpLH equivalent to that of tpHL for the elements of example circuit? What is the value for each of them,  respectively?</strong></p>
<ul>
<li>No. The tpLH is 9ns, while the tpHL is 5ns.</li>
</ul>
<p><strong>Q54: What is the fan-out index of signal A as known by the primary input controller?</strong></p>
<ul>
<li>The fan-out index of A is known by the primary input controller to be FOM1.</li>
</ul>
<p><strong>Q55: What is to do if the value from the state table different from the new value of A?</strong></p>
<ul>
<li>The state table value is updated.</li>
</ul>
<p><strong>Q56: Must an input change be sent to the event memory even if gate-output’s prediction is unchanged?</strong></p>
<ul>
<li>Yes.</li>
</ul>
<p><strong>Q57: What is indicated as the flag in FOM1 of the fan-out memory is 1? Which memory location is set to 0 with the output of G2 being  predicted to 0 at time 5?</strong></p>
<ul>
<li>The flag in FOM1 of the fan-out memory is 1, indicating that another gate input is driven by A.</li>
<li>The next free memory location in the event memory is at address EM1. The value in this location is set to 0, and the fan-out index to FOM8.</li>
</ul>
<p><strong>Q58: What does time do since the flag in line 2 of the fan-out memory is 0？Why？</strong></p>
<ul>
<li>Time now advances to find the next event., because there are no further fan-outs of signal A</li>
</ul>
<p><strong>Q59: What is the wheel pointer, at time 5? Which steps does simulator follow after find address EM1 of the event memory?</strong></p>
<ul>
<li>At time 5, the time wheel pointer is EM1.</li>
<li>Address EM1 of the event memory has a fan-out index of FOM8.Reading line FOM8 of the fan-out memory finds the state table line ST2. Considering state table for line ST2, it is found that the value is 1 prior to time 5. The value from the event memory is 0, so there is a change. The value in line ST2 of the state table is updated accordingly. The fan-out memory of line FOM8 points to line NM(6+1) in the network memory. This is the output of G2, so Dis also updated. As this is an output, an evaluation is not required. Line EM1 location is returned to the free list.</li>
</ul>
<p><strong>Q60: What should the simulator do if a line of the fan-out memory has its flag set?</strong></p>
<ul>
<li>Read a further line.</li>
</ul>
<p><strong>Q61: When does the evaluation at time 5 predict that Z will change from ‘0’to ‘1’?</strong></p>
<ul>
<li>The evaluation predicts that Z will change to 1 in tpLH, at time 5+9 = 14.</li>
</ul>
<p><strong>Q62: What operation was taken on the EM when the event at time 5 was read out?</strong></p>
<ul>
<li>Event memory location EM1 was recovered when the event at time 5 was read out, so this is the next available location.</li>
</ul>
<p><strong>Q63: Why is there no further activity as a result of the change of A at time 0 after the event at time 14 is processed?</strong></p>
<ul>
<li>There are no fan-outs of this signal and there are no more events in the time wheel, so there is no further activity as a result of this change of A.</li>
</ul>
<p><strong>Q64: What is the new change that the primary input controller applies at time 100?</strong></p>
<ul>
<li>This is B going to 1.</li>
</ul>
<p><strong>Q65: What problem does consideration of the potential changes from 114 illustrate? And, what is the solution?</strong></p>
<ul>
<li>The first indicates a change of E to 1. As D is still 0(data not yet read), a prediction that Z will change to 1 at time 123 is made.</li>
<li>However, on reading the D change, it is found that Z is predicted to go to 0 at time 119.</li>
<li><p>It is assumed that the event at time 123 is deleted after the second event is read on processing T =114.</p>
</li>
<li><p>There are two solution, both of which are required.</p>
</li>
<li>For this specific case, it is sufficient if it can be arranged to evaluate each element not more than once in each time slot. This is described further in Sec. 6.5.1(*some refinements).</li>
<li>The second solution is to remove the event at time 123. This in turn requires knowledge that the event has been placed, followed by a search of all event memory lists which might contain the false prediction.</li>
<li>However, the use of unequal rising and falling delays, as here, makes it necessary to have some such mechanism.</li>
</ul>
<p><strong>Q66: What is the longest delay through the circuit for the input (B)’s changing at time 100? And, what is that for A’s changing to 0  at 200 ns?</strong></p>
<ul>
<li>19ns; 23ns.</li>
</ul>
<p><strong>Q67: What is the aim of a timing verifier?</strong></p>
<ul>
<li>The aim of a timing verifier is to perform a full analysis of the circuit independent of the input patterns</li>
</ul>
<p><strong>Q68: What is the horizontal ordinate and vertical ordinate for the state table, respectively?</strong></p>
<ul>
<li>horizontal ordinate: address</li>
<li>vertical ordinate: T</li>
<li>横坐标是仿真的时间点，纵坐标是每一个信号的指针</li>
</ul>
<p><strong>Q69: What is the use of Free List of EM?</strong></p>
<ul>
<li>For prediction and recover. </li>
<li>free list用于存储事件寄存器中哪些空间可用，他可以让所有时轮中的事件列表共用一块内存。</li>
</ul>
<p><strong>Q70: Notice the short pulse on E. Does the ‘logic only’ LCC simulator predict this? Why is the difference?</strong></p>
<ul>
<li>No. 我们注意到e的一个短脉冲是由于c信号翻转的延时导致的，因此不考虑时延的LCC模型是不能对其进行描述的。</li>
</ul>
<p><strong>Q71: Which are examples of groups of signals?</strong></p>
<ul>
<li>Examples might include: memory address signals; data buses in a processor.</li>
</ul>
<p><strong>Q72: What benefits does treating such groups as a unit leads to?</strong></p>
<ul>
<li>Since the group is treated as a unit, it requires only one fan-out index.</li>
<li>As there is only one set of fan-out data per group, the storage requirements of the fan-out memory are also reduced.</li>
<li>As the group is a single unit, only one event has to pass around the simulator for each group.</li>
</ul>
<p><strong>Q73: How many fan-out index does it require since the group is treated as a unit? And, how about the number of events?</strong></p>
<ul>
<li>Since the group is treated as a unit, it requires only one fan-out index.</li>
</ul>
<p><strong>Q74: How many bits are defined in IEEE 754 standard for single-precision floating point number and double-precision number,  respectively?</strong></p>
<ul>
<li>32 bits for single-precision, 64 bits for double-precision number.</li>
</ul>
<p><strong>Q75: How does the simulator know a group and identify the size of its?</strong></p>
<ul>
<li>There is a bit to indicate that this is a group and some means of identifying the size of the group.</li>
</ul>
<p><strong>Q76: Where is a new routine named group split unit placed in Fig. 6.7? What does the group split unit do when it notices a new  prediction?</strong></p>
<ul>
<li>A new routine is placed in the simulator between the evaluator and the event memory (Fig. 6.7)</li>
<li>When the 32-bit register prediction reaches the group split unit, the unit notices that it is a group rather than a single signal. The group split unit now calls the splitting procedure for this group. For the example quoted two groups are formed.</li>
</ul>
<p><strong>Q77: How many groups are there in line FOM53 after group splitting?</strong></p>
<ul>
<li>3</li>
</ul>
<p><strong>Q78: What is the offset for the 8-bit subgroup, 2 single bits, and the 20-bit group, respectively, supposing that the combined group  starts at NM (1234 + 5) in the network memory? And, which locations does each of them occupy?</strong></p>
<ul>
<li>Each subgroup, including the single bits, will have address NM1234 in the fan-out memory. All the offsets are computed by the network compiler at compile time.</li>
</ul>
<p><strong>Q79: What are major times involved in simulation?</strong></p>
<ul>
<li>The major times involved in simulation are</li>
<li>calling and evaluating models,</li>
<li>extracting data from the time wheel, following fan-out linkages and forming the affected components list,</li>
<li>searching for erroneous data.</li>
</ul>
<p><strong>Q80: Which kinds of models do switch level simulators require?</strong></p>
<ul>
<li>Switch level simulators require different modelling approaches.</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://frezcirno.github.io/daily/2021-07-02.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.7c00h.xyz/avatar.jpg">
      <meta itemprop="name" content="frezcirno">
      <meta itemprop="description" content="Frezcirno的个人博客, 记录一些技术相关的学习内容">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Frezcirno's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/daily/2021-07-02.html" class="post-title-link" itemprop="url">Rabin-Karp 算法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-02 19:06:53" itemprop="dateCreated datePublished" datetime="2021-07-02T19:06:53+08:00">2021-07-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%AF%8F%E6%97%A5%E5%B0%8F%E7%BB%93-Day-Day-Up/" itemprop="url" rel="index"><span itemprop="name">每日小结 Day Day Up</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/daily/2021-07-02.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="daily/2021-07-02.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>977</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Rabin-Karp-算法"><a href="#Rabin-Karp-算法" class="headerlink" title="Rabin-Karp 算法"></a>Rabin-Karp 算法</h1><p>字符串匹配算法之一，利用哈希进行匹配比较，利用滚动哈希优化哈希函数</p>
<h2 id="滚动哈希"><a href="#滚动哈希" class="headerlink" title="滚动哈希"></a>滚动哈希</h2><p>将滑动窗口中的字符串哈希成一个数字</p>
<script type="math/tex; mode=display">
h_i = \sum_{p = 0}^{L - 1}{s_{i + p} b^{L - 1 - p}}</script><p>其中$L$为滑动窗口大小，$s$为探针字符串，$b$为基数</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>index</th>
<th></th>
<th>-1</th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>s</td>
<td>……</td>
<td>a</td>
<td>b</td>
<td>c</td>
<td>d</td>
<td>e</td>
<td>f</td>
<td>g</td>
<td></td>
<td>……</td>
</tr>
<tr>
<td>$h_{i-1}$</td>
<td></td>
<td>$b^5$</td>
<td>$b^4$</td>
<td>$b^3$</td>
<td>$b^2$</td>
<td>$b$</td>
<td>$1$</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>$h_{i}$</td>
<td></td>
<td></td>
<td>$b^5$</td>
<td>$b^4$</td>
<td>$b^3$</td>
<td>$b^2$</td>
<td>$b$</td>
<td>$1$</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>则有递推公式</p>
<script type="math/tex; mode=display">
\begin{aligned}
h_i &= \sum_{p = 0}^{L - 1}{s_{i + p} b^{L - 1 - p}}\\
&= b \cdot \sum_{p = 0}^{L - 1}{s_{i + p - 1} b^{L - 1 - p}} - s_{i-1} b^{L} + s_{i+L-1}\\
&= (h_{i-1} - s_{i-1} b^{L-1}) b + s_{i+L-1}
\end{aligned}</script><p>代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rk_hash</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> s, <span class="keyword">int</span> start, <span class="keyword">int</span> base, <span class="keyword">int</span> L, <span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> hash = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        hash = (hash * base) % mod;</span><br><span class="line">        hash = (hash + s[start + i]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">powmod</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> n, <span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">0</span>) <span class="keyword">return</span> powmod((<span class="keyword">long</span> <span class="keyword">long</span>)a * a % m, n / <span class="number">2</span>, m) % m;</span><br><span class="line">    <span class="keyword">return</span> ((powmod((<span class="keyword">long</span> <span class="keyword">long</span>)a * a % m, n / <span class="number">2</span>, m) % m) * ((<span class="keyword">long</span> <span class="keyword">long</span>)a % m)) % m;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rk_cont_hash</span><span class="params">(<span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> s, <span class="keyword">int</span> start, <span class="keyword">int</span> last_h, <span class="keyword">int</span> base, <span class="keyword">int</span> L, <span class="keyword">int</span> mod)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> hash = last_h - s[start - <span class="number">1</span>] * powmod(base, L - <span class="number">1</span>, mod);</span><br><span class="line">    hash = (hash * base) % mod;</span><br><span class="line">    hash = (hash + s[start + L - <span class="number">1</span>]) % mod;</span><br><span class="line">    <span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://frezcirno.github.io/leetcode/1395.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.7c00h.xyz/avatar.jpg">
      <meta itemprop="name" content="frezcirno">
      <meta itemprop="description" content="Frezcirno的个人博客, 记录一些技术相关的学习内容">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Frezcirno's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/leetcode/1395.html" class="post-title-link" itemprop="url">1395. 统计作战单位数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-02 12:51:28" itemprop="dateCreated datePublished" datetime="2021-07-02T12:51:28+08:00">2021-07-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/leetcode/" itemprop="url" rel="index"><span itemprop="name">leetcode</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/leetcode/1395.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="leetcode/1395.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>510</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">rating</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> numTeams = <span class="function"><span class="keyword">function</span> (<span class="params">rating</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; rating.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> ri = rating[i];</span><br><span class="line">        <span class="keyword">let</span> countx1 = <span class="number">0</span>, countx2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">let</span> county1 = <span class="number">0</span>, county2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> x = <span class="number">0</span>; x &lt; i; x++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (rating[x] &lt; ri) countx1++;</span><br><span class="line">            <span class="keyword">if</span> (rating[x] &gt; ri) countx2++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> x = i + <span class="number">1</span>; x &lt; rating.length; x++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (rating[x] &lt; ri) county1++;</span><br><span class="line">            <span class="keyword">if</span> (rating[x] &gt; ri) county2++;</span><br><span class="line">        &#125;</span><br><span class="line">        count += countx1 * county2 + countx2 * county1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://frezcirno.github.io/leetcode/1833.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.7c00h.xyz/avatar.jpg">
      <meta itemprop="name" content="frezcirno">
      <meta itemprop="description" content="Frezcirno的个人博客, 记录一些技术相关的学习内容">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Frezcirno's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/leetcode/1833.html" class="post-title-link" itemprop="url">1833. 雪糕的最大数量</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-02 12:28:59" itemprop="dateCreated datePublished" datetime="2021-07-02T12:28:59+08:00">2021-07-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/leetcode/" itemprop="url" rel="index"><span itemprop="name">leetcode</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/leetcode/1833.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="leetcode/1833.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>345</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>排序</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">costs</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> <span class="variable">coins</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxIceCream = <span class="function"><span class="keyword">function</span> (<span class="params">costs, coins</span>) </span>&#123;</span><br><span class="line">    costs.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">    <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; costs.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (costs[i] &lt;= coins) &#123;</span><br><span class="line">            coins -= costs[i];</span><br><span class="line">            count++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://frezcirno.github.io/daily/2021-06-15.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.7c00h.xyz/avatar.jpg">
      <meta itemprop="name" content="frezcirno">
      <meta itemprop="description" content="Frezcirno的个人博客, 记录一些技术相关的学习内容">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Frezcirno's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/daily/2021-06-15.html" class="post-title-link" itemprop="url">python 自定义 JSON Encoder</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-15 10:05:05" itemprop="dateCreated datePublished" datetime="2021-06-15T10:05:05+08:00">2021-06-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%AF%8F%E6%97%A5%E5%B0%8F%E7%BB%93-Day-Day-Up/" itemprop="url" rel="index"><span itemprop="name">每日小结 Day Day Up</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/daily/2021-06-15.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="daily/2021-06-15.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>400</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="python-自定义-JSON-Encoder"><a href="#python-自定义-JSON-Encoder" class="headerlink" title="python 自定义 JSON Encoder"></a>python 自定义 JSON Encoder</h1><p>继承 json.JSONEncoder 类, 重载 default 方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert_time</span>(<span class="params">dt: DateTime</span>):</span></span><br><span class="line">    pdt = datetime(dt.year, dt.month, dt.day, dt.hour, dt.minute,</span><br><span class="line">                   <span class="built_in">int</span>(dt.second), <span class="built_in">int</span>(dt.second * <span class="number">1000000</span> % <span class="number">1000000</span>))</span><br><span class="line">    <span class="keyword">return</span> pdt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomJSONEncoder</span>(<span class="params">JSONEncoder</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">default</span>(<span class="params">self, o</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(o, DateTime):</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">super</span>(CustomJSONEncoder, self).encode(convert_time(o).isoformat())</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>(CustomJSONEncoder, self).default(o)</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://frezcirno.github.io/daily/2021-03-14.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.7c00h.xyz/avatar.jpg">
      <meta itemprop="name" content="frezcirno">
      <meta itemprop="description" content="Frezcirno的个人博客, 记录一些技术相关的学习内容">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Frezcirno's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/daily/2021-03-14.html" class="post-title-link" itemprop="url">Numpy, SciPy, Matplotlib 和 Pandas 学习</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-03-14 12:43:14" itemprop="dateCreated datePublished" datetime="2021-03-14T12:43:14+08:00">2021-03-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%AF%8F%E6%97%A5%E5%B0%8F%E7%BB%93-Day-Day-Up/" itemprop="url" rel="index"><span itemprop="name">每日小结 Day Day Up</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/daily/2021-03-14.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="daily/2021-03-14.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>208</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>时间过的真快啊，转眼间已经是 <del>3</del> 4 月了！</p>
<h1 id="Python-数据科学常用的库"><a href="#Python-数据科学常用的库" class="headerlink" title="Python 数据科学常用的库"></a>Python 数据科学常用的库</h1><p><img src="https://cdn.7c00h.xyz/images/v2-297731bd359ebc14978967a92f1716cb_r-1.jpg" alt=""></p>
<h1 id="Numpy-使用"><a href="#Numpy-使用" class="headerlink" title="Numpy 使用"></a>Numpy 使用</h1><h2 id="array-对象"><a href="#array-对象" class="headerlink" title="array 对象"></a>array 对象</h2><h1 id="Matplotlib-使用"><a href="#Matplotlib-使用" class="headerlink" title="Matplotlib 使用"></a>Matplotlib 使用</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>
<h1 id="Pandas-使用"><a href="#Pandas-使用" class="headerlink" title="Pandas 使用"></a>Pandas 使用</h1><h2 id="Series-对象"><a href="#Series-对象" class="headerlink" title="Series 对象"></a>Series 对象</h2><h2 id="Dataframe-对象"><a href="#Dataframe-对象" class="headerlink" title="Dataframe 对象"></a>Dataframe 对象</h2><p>博客更新日志：</p>
<ul>
<li>日记分类名字从「每日小结」改为「每日小结 Day Day Up」</li>
<li>日记文章标题从今往后将取有意义的名字</li>
<li>日记文件名改成更加标准的 ISO-8601 命名法</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://frezcirno.github.io/leetcode/5.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.7c00h.xyz/avatar.jpg">
      <meta itemprop="name" content="frezcirno">
      <meta itemprop="description" content="Frezcirno的个人博客, 记录一些技术相关的学习内容">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Frezcirno's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/leetcode/5.html" class="post-title-link" itemprop="url">5. 最长回文子串</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-03-01 16:06:07" itemprop="dateCreated datePublished" datetime="2021-03-01T16:06:07+08:00">2021-03-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/leetcode/" itemprop="url" rel="index"><span itemprop="name">leetcode</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/leetcode/5.html#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="leetcode/5.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>598</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>动态规划 &lt; 中心扩展算法 &lt; manacher</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">longestPalindrome</span><span class="params">(<span class="built_in">string</span> s)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = s.size();</span><br><span class="line">        <span class="keyword">int</span> maximum = <span class="number">1</span>, maxI = <span class="number">0</span>, maxJ = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i == j) &#123;</span><br><span class="line">                    dp[i][j] = <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i][j] = max(dp[i][j - <span class="number">1</span>], dp[i + <span class="number">1</span>][j]);</span><br><span class="line">                    <span class="keyword">if</span> (dp[i + <span class="number">1</span>][j - <span class="number">1</span>] == j - i - <span class="number">1</span> &amp;&amp; s[i] == s[j])</span><br><span class="line">                        dp[i][j] = max(dp[i][j], dp[i + <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">2</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (dp[i][j] &gt; maximum) &#123;</span><br><span class="line">                    maximum = dp[i][j];</span><br><span class="line">                    maxI = i;</span><br><span class="line">                    maxJ = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">string</span>(s.begin() + maxI, s.begin() + maxJ + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>


<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2020 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fas fa-dove"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">frezcirno</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">157k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">2:23</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  

<script src="/js/local-search.js"></script>






  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





  


<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://frezcirno-github-io.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<!-- <script src="https://cdn.7c00h.xyz/live2d-widget/autoload.js"></script> -->
</body>
</html>
